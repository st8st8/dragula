!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function o(r,i,u){function c(n,e){if(!i[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw(t=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",t}t=i[n]={exports:{}},r[n][0].call(t.exports,function(e){return c(r[n][1][e]||e)},t,t.exports,o,r,i,u)}return i[n].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,n,t){"use strict";var o={},r="(?:^|\\s)",i="(?:\\s|$)";function u(e){var n=o[e];return n?n.lastIndex=0:o[e]=n=new RegExp(r+e+i,"g"),n}n.exports={add:function(e,n){var t=e.className;t.length?u(n).test(t)||(e.className+=" "+n):e.className=n},rm:function(e,n){e.className=e.className.replace(u(n)," ").trim()}}},{}],2:[function(e,n,t){(function(r){"use strict";var j=e("contra/emitter"),R=e("crossvent"),q=e("./classes"),U=document,z=U.documentElement;function K(e,n,t,o){r.navigator.pointerEnabled?R[n](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[t],o):r.navigator.msPointerEnabled?R[n](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[t],o):(R[n](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[t],o),R[n](e,t,o))}function H(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;e=e.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function V(e,n){return void 0!==r[n]?r[n]:(z.clientHeight?z:U.body)[e]}function $(e,n,t){var o=(e=e||{}).className||"";return e.className+=" gu-hide",t=U.elementFromPoint(n,t),e.className=o,t}function G(){return!1}function J(){return!0}function Q(e){return e.width||e.right-e.left}function W(e){return e.height||e.bottom-e.top}function Z(e){return e.parentNode===U?null:e.parentNode}function ee(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(n){if(!n)return!1;if("false"===n.contentEditable)return!1;if("true"===n.contentEditable)return!0;return e(Z(n))}(e)}function ne(n){return n.nextElementSibling||function(){var e=n;for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}()}function te(e,n){var n=(t=n).targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t={pageX:"clientX",pageY:"clientY"};return e in t&&!(e in n)&&t[e]in n&&(e=t[e]),n[e]}n.exports=function(e,n){var l,f,s,d,p,o,r,m,v,h,t;1===arguments.length&&!1===Array.isArray(e)&&(n=e,e=[]);var i,g=null,y=n||{};void 0===y.moves&&(y.moves=J),void 0===y.accepts&&(y.accepts=J),void 0===y.invalid&&(y.invalid=function(){return!1}),void 0===y.containers&&(y.containers=e||[]),void 0===y.isContainer&&(y.isContainer=G),void 0===y.proxyContainers&&(y.proxyContainers=[]),void 0===y.isProxyContainer&&(y.isProxyContainer=G),void 0===y.copy&&(y.copy=!1),void 0===y.copySortSource&&(y.copySortSource=!1),void 0===y.revertOnSpill&&(y.revertOnSpill=!1),void 0===y.removeOnSpill&&(y.removeOnSpill=!1),void 0===y.direction&&(y.direction="vertical"),void 0===y.ignoreInputTextSelection&&(y.ignoreInputTextSelection=!0),void 0===y.mirrorContainer&&(y.mirrorContainer=U.body);var w=j({containers:y.containers,proxyContainers:y.proxyContainers,start:function(e){e=S(e);e&&O(e)},end:I,cancel:L,remove:X,destroy:function(){c(!0),_({})},canMove:function(e){return!!S(e)},dragging:!1});return!0===y.removeOnSpill&&w.on("over",function(e){q.rm(e,"gu-hide")}).on("out",function(e){w.dragging&&q.add(e,"gu-hide")}),c(),w;function u(e){return-1!==w.containers.indexOf(e)||y.isContainer(e)}function b(e){return-1!==w.proxyContainers.indexOf(e)||y.isProxyContainer(e)}function c(e){e=e?"remove":"add";K(z,e,"mousedown",E),K(z,e,"mouseup",_)}function a(e){K(z,e?"remove":"add","mousemove",C)}function T(e){e=e?"remove":"add";R[e](z,"selectstart",x),R[e](z,"click",x)}function x(e){i&&e.preventDefault()}function E(e){var n,t;o=e.clientX,r=e.clientY,1!==H(e)||e.metaKey||e.ctrlKey||(t=S(n=e.target))&&(i=t,a(),"mousedown"===e.type&&(ee(n)?n.focus():e.preventDefault()))}function C(e){if(i)if(0!==H(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-o)<=(y.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-r)<=(y.slideFactorY||0))){if(y.ignoreInputTextSelection){var n=te("clientX",e)||0,t=te("clientY",e)||0;if(ee(U.elementFromPoint(n,t)))return}t=i;a(!0),T(),I(),O(t);t=function(e){e=e.getBoundingClientRect();return{left:e.left+V("scrollLeft","pageXOffset"),top:e.top+V("scrollTop","pageYOffset")}}(s);d=te("pageX",e)-t.left,p=te("pageY",e)-t.top,q.add(h||s,"gu-transit"),function(){if(l)return;var e=s.getBoundingClientRect();(l=s.cloneNode(!0)).style.width=Q(e)+"px",l.style.height=W(e)+"px",q.rm(l,"gu-transit"),q.add(l,"gu-mirror"),y.mirrorContainer.appendChild(l),K(z,"add","mousemove",D),q.add(y.mirrorContainer,"gu-unselectable"),w.emit("cloned",l,s,"mirror")}(),D(e)}}else _({})}function S(e){if(!(w.dragging&&l||u(e))){for(var n=e;Z(e)&&!1===u(Z(e));){if(y.invalid(e,n))return;if(!(e=Z(e)))return}var t=Z(e);if(t)if(!y.invalid(e,n))if(y.moves(e,t,n,ne(e)))return{item:e,source:t}}}function O(e){var n,t;n=e.item,t=e.source,("boolean"==typeof y.copy?y.copy:y.copy(n,t))&&(h=e.item.cloneNode(!0),w.emit("cloned",h,e.item,"copy")),f=e.source,s=e.item,m=v=ne(e.item),w.dragging=!0,w.emit("drag",s,f)}function I(){var e;w.dragging&&P(e=h||s,Z(e))}function N(){a(!(i=!1)),T(!0)}function _(e){var n,t,o;N(),w.dragging&&(n=h||s,t=te("clientX",e)||0,o=te("clientY",e)||0,(o=B($(l,t,o),t,o))&&(h&&y.copySortSource||!h||o!==f)?P(n,o,e):(y.removeOnSpill?X:L)())}function P(e,n,t){var o=Z(e);h&&y.copySortSource&&n===f&&o.removeChild(s),A(n)?w.emit("cancel",e,f,f):(b(o=n)&&(o=F(n)),w.emit("drop",e,o,f,v,t)),Y()}function X(){var e,n;w.dragging&&((n=Z(e=h||s))&&n.removeChild(e),w.emit(h?"cancel":"remove",e,n,f),Y())}function L(e){var n,t,o;w.dragging&&(n=0<arguments.length?e:y.revertOnSpill,!1===(e=A(o=Z(t=h||s)))&&n&&(h?o&&o.removeChild(h):f.insertBefore(t,m)),e||n?w.emit("cancel",t,f,f):w.emit("drop",t,o,f,v),Y())}function Y(){var e=h||s;N(),l&&(q.rm(y.mirrorContainer,"gu-unselectable"),K(z,"remove","mousemove",D),Z(l).removeChild(l),l=null),e&&q.rm(e,"gu-transit"),t&&clearTimeout(t),w.dragging=!1,g&&w.emit("out",e,g,f),w.emit("dragend",e),f=s=h=m=v=t=g=null}function A(e,n){n=void 0!==n?n:l?v:ne(h||s);return e===f&&n===m}function B(n,t,o){for(var r=n;r&&!function(){if(!1===u(r))return!1;var e=M(r,n),e=k(r,e,t,o);if(A(r,e))return!0;return y.accepts(s,r,f,e)}();)r=Z(r);return r}function D(e){if(l){e.preventDefault();var n=te("clientX",e)||0,t=te("clientY",e)||0,o=n-d,r=t-p;l.style.left=o+"px",l.style.top=r+"px";var i=h||s,e=$(l,n,t),o=B(e,n,t),u=null!==o&&o!==g;!u&&null!==o||(g&&a("out"),g=o,u&&a("over"));r=Z(i);if(o!==f||!h||y.copySortSource){var c,e=M(o,e);if(null!==e)c=k(o,e,n,t);else{if(!0!==y.revertOnSpill||h)return void(h&&r&&r.removeChild(i));c=m,o=f}(null===c&&u||c!==i&&c!==ne(i))&&(v=c,b(o)?((t=F(o))&&t.appendChild(i),w.emit("shadow",i,t,f)):(o.insertBefore(i,c),w.emit("shadow",i,o,f)))}else r&&r.removeChild(i)}function a(e){w.emit(e,i,g,f)}}function F(e){e=e.getAttribute("data-dropzone");return document.getElementById(e)}function M(e,n){for(var t=n;t!==e&&Z(t)!==e;)t=Z(t);return t===z?null:t}function k(r,n,i,u){var c="horizontal"===y.direction;return(n!==r?function(){var e=n.getBoundingClientRect();if(c)return t(i>e.left+Q(e)/2);return t(u>e.top+W(e)/2)}:function(){var e,n,t,o=r.children.length;for(e=0;e<o;e++){if(n=r.children[e],t=n.getBoundingClientRect(),c&&t.left+t.width/2>i)return n;if(!c&&t.top+t.height/2>u)return n}return null})();function t(e){return e?ne(n):n}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,n,t){n.exports=function(e,n){return Array.prototype.slice.call(e,n)}},{}],4:[function(e,n,t){"use strict";var o=e("ticky");n.exports=function(e,n,t){e&&o(function(){e.apply(t||null,n||[])})}},{ticky:10}],5:[function(e,n,t){"use strict";var c=e("atoa"),a=e("./debounce");n.exports=function(r,e){var i=e||{},u={};return void 0===r&&(r={}),r.on=function(e,n){return u[e]?u[e].push(n):u[e]=[n],r},r.once=function(e,n){return n._once=!0,r.on(e,n),r},r.off=function(e,n){var t=arguments.length;if(1===t)delete u[e];else if(0===t)u={};else{e=u[e];if(!e)return r;e.splice(e.indexOf(n),1)}return r},r.emit=function(){var e=c(arguments);return r.emitterSnapshot(e.shift()).apply(this,e)},r.emitterSnapshot=function(o){var e=(u[o]||[]).slice(0);return function(){var n=c(arguments),t=this||r;if("error"===o&&!1!==i.throws&&!e.length)throw 1===n.length?n[0]:n;return e.forEach(function(e){i.async?a(e,n,t):e.apply(t,n),e._once&&r.off(o,e)}),r}},r}},{"./debounce":4,atoa:3}],6:[function(t,o,e){(function(r){"use strict";var i=t("custom-event"),u=t("./eventmap"),c=r.document,e=function(e,n,t,o){return e.addEventListener(n,t,o)},n=function(e,n,t,o){return e.removeEventListener(n,t,o)},a=[];function l(e,n,t){n=function(e,n,t){var o,r;for(o=0;o<a.length;o++)if((r=a[o]).element===e&&r.type===n&&r.fn===t)return o}(e,n,t);if(n){t=a[n].wrapper;return a.splice(n,1),t}}r.addEventListener||(e=function(e,n,t){return e.attachEvent("on"+n,function(e,n,t){var o=l(e,n,t)||function(t,o){return function(e){var n=e||r.event;n.target=n.target||n.srcElement,n.preventDefault=n.preventDefault||function(){n.returnValue=!1},n.stopPropagation=n.stopPropagation||function(){n.cancelBubble=!0},n.which=n.which||n.keyCode,o.call(t,n)}}(e,t);return a.push({wrapper:o,element:e,type:n,fn:t}),o}(e,n,t))},n=function(e,n,t){t=l(e,n,t);if(t)return e.detachEvent("on"+n,t)}),o.exports={add:e,remove:n,fabricate:function(e,n,t){var o=-1===u.indexOf(n)?new i(n,{detail:t}):function(){var e;c.createEvent?(e=c.createEvent("Event")).initEvent(n,!0,!0):c.createEventObject&&(e=c.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+n,o)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,r,n){(function(e){"use strict";var n=[],t="",o=/^on/;for(t in e)o.test(t)&&n.push(t.slice(2));r.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){(function(e){var n=e.CustomEvent;t.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,n,t){var o,r,n=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(n){if(o===setTimeout)return setTimeout(n,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(n,0);try{return o(n,0)}catch(e){try{return o.call(null,n,0)}catch(e){return o.call(this,n,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var a,l=[],f=!1,s=-1;function d(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length&&p())}function p(){if(!f){var e=c(d);f=!0;for(var n=l.length;n;){for(a=l,l=[];++s<n;)a&&a[s].run();s=-1,n=l.length}a=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(e)}}function m(e,n){this.fun=e,this.array=n}function v(){}n.nextTick=function(e){var n=new Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new m(e,n)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],10:[function(e,t,n){(function(n){var e="function"==typeof n?function(e){n(e)}:function(e){setTimeout(e,0)};t.exports=e}).call(this,e("timers").setImmediate)},{timers:11}],11:[function(a,e,l){(function(e,n){var o=a("process/browser.js").nextTick,t=Function.prototype.apply,r=Array.prototype.slice,i={},u=0;function c(e,n){this._id=e,this._clearFn=n}l.setTimeout=function(){return new c(t.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new c(t.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;0<=n&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},l.setImmediate="function"==typeof e?e:function(e){var n=u++,t=!(arguments.length<2)&&r.call(arguments,1);return i[n]=!0,o(function(){i[n]&&(t?e.apply(null,t):e.call(null),l.clearImmediate(n))}),n},l.clearImmediate="function"==typeof n?n:function(e){delete i[e]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)});