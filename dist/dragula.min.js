!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function r(o,i,u){function c(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return c(o[t][1][e]||e)},n,n.exports,r,o,i,u)}return i[t].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";var r={},o="(?:^|\\s)",i="(?:\\s|$)";function u(e){var t=r[e];return t?t.lastIndex=0:r[e]=t=new RegExp(o+e+i,"g"),t}t.exports={add:function(e,t){var n=e.className;n.length?u(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(u(t)," ").trim()}}},{}],2:[function(e,t,n){(function(o){"use strict";var j=e("contra/emitter"),R=e("crossvent"),q=e("./classes"),U=document,z=U.documentElement;function K(e,t,n,r){o.navigator.pointerEnabled?R[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],r):o.navigator.msPointerEnabled?R[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],r):(R[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],r),R[t](e,n,r))}function H(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;e=e.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function V(e,t){return void 0!==o[t]?o[t]:(z.clientHeight?z:U.body)[e]}function $(e,t,n){var r=(e=e||{}).className||"";return e.className+=" gu-hide",n=U.elementFromPoint(t,n),e.className=r,n}function G(){return!1}function J(){return!0}function Q(e){return e.width||e.right-e.left}function W(e){return e.height||e.bottom-e.top}function Z(e){return e.parentNode===U?null:e.parentNode}function ee(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){if(!t)return!1;if("false"===t.contentEditable)return!1;if("true"===t.contentEditable)return!0;return e(Z(t))}(e)}function te(t){return t.nextElementSibling||function(){var e=t;for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}()}function ne(e,t){var t=(n=t).targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in t)&&n[e]in t&&(e=n[e]),t[e]}t.exports=function(e,t){var l,f,s,d,m,r,o,p,v,h,n;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var i,g=null,y=t||{};void 0===y.moves&&(y.moves=J),void 0===y.accepts&&(y.accepts=J),void 0===y.invalid&&(y.invalid=function(){return!1}),void 0===y.containers&&(y.containers=e||[]),void 0===y.isContainer&&(y.isContainer=G),void 0===y.proxyContainers&&(y.proxyContainers=[]),void 0===y.isProxyContainer&&(y.isProxyContainer=G),void 0===y.copy&&(y.copy=!1),void 0===y.copySortSource&&(y.copySortSource=!1),void 0===y.revertOnSpill&&(y.revertOnSpill=!1),void 0===y.removeOnSpill&&(y.removeOnSpill=!1),void 0===y.direction&&(y.direction="vertical"),void 0===y.ignoreInputTextSelection&&(y.ignoreInputTextSelection=!0),void 0===y.mirrorContainer&&(y.mirrorContainer=U.body);var w=j({containers:y.containers,proxyContainers:y.proxyContainers,start:function(e){e=S(e);e&&I(e)},end:O,cancel:X,remove:P,destroy:function(){c(!0),_({})},canMove:function(e){return!!S(e)},dragging:!1});return!0===y.removeOnSpill&&w.on("over",function(e){q.rm(e,"gu-hide")}).on("out",function(e){w.dragging&&q.add(e,"gu-hide")}),c(),w;function u(e){return-1!==w.containers.indexOf(e)||y.isContainer(e)}function b(e){return-1!==w.proxyContainers.indexOf(e)||y.isProxyContainer(e)}function c(e){e=e?"remove":"add";K(z,e,"mousedown",E),K(z,e,"mouseup",_)}function a(e){K(z,e?"remove":"add","mousemove",C)}function T(e){e=e?"remove":"add";R[e](z,"selectstart",x),R[e](z,"click",x)}function x(e){i&&e.preventDefault()}function E(e){var t,n;r=e.clientX,o=e.clientY,1!==H(e)||e.metaKey||e.ctrlKey||(n=S(t=e.target))&&(i=n,a(),"mousedown"===e.type&&(ee(t)?t.focus():e.preventDefault()))}function C(e){if(i)if(0!==H(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-r)<=(y.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-o)<=(y.slideFactorY||0))){if(y.ignoreInputTextSelection){var t=ne("clientX",e)||0,n=ne("clientY",e)||0;if(ee(U.elementFromPoint(t,n)))return}n=i;a(!0),T(),O(),I(n);n=function(e){e=e.getBoundingClientRect();return{left:e.left+V("scrollLeft","pageXOffset"),top:e.top+V("scrollTop","pageYOffset")}}(s);d=ne("pageX",e)-n.left,m=ne("pageY",e)-n.top,q.add(h||s,"gu-transit"),function(){if(l)return;var e=s.getBoundingClientRect();(l=s.cloneNode(!0)).style.width=Q(e)+"px",l.style.height=W(e)+"px",q.rm(l,"gu-transit"),q.add(l,"gu-mirror"),y.mirrorContainer.appendChild(l),K(z,"add","mousemove",D),q.add(y.mirrorContainer,"gu-unselectable"),w.emit("cloned",l,s,"mirror")}(),D(e)}}else _({})}function S(e){if(!(w.dragging&&l||u(e))){for(var t=e;Z(e)&&!1===u(Z(e));){if(y.invalid(e,t))return;if(!(e=Z(e)))return}var n=Z(e);if(n)if(!y.invalid(e,t))if(y.moves(e,n,t,te(e)))return{item:e,source:n}}}function I(e){var t,n;t=e.item,n=e.source,("boolean"==typeof y.copy?y.copy:y.copy(t,n))&&(h=e.item.cloneNode(!0),w.emit("cloned",h,e.item,"copy")),f=e.source,s=e.item,p=v=te(e.item),w.dragging=!0,w.emit("drag",s,f)}function O(){var e;w.dragging&&A(e=h||s,Z(e))}function N(){a(!(i=!1)),T(!0)}function _(e){var t,n,r;N(),w.dragging&&(t=h||s,n=ne("clientX",e)||0,r=ne("clientY",e)||0,(r=B($(l,n,r),n,r))&&(h&&y.copySortSource||!h||r!==f)?A(t,r,e):(y.removeOnSpill?P:X)())}function A(e,t,n){var r=Z(e);h&&y.copySortSource&&t===f&&r.removeChild(s),Y(t)?w.emit("cancel",e,f,f):(b(r=t)&&(r=F(t)),w.emit("drop",e,r,f,v,n)),L()}function P(){var e,t;w.dragging&&((t=Z(e=h||s))&&t.removeChild(e),w.emit(h?"cancel":"remove",e,t,f),L())}function X(e){var t,n,r;w.dragging&&(t=0<arguments.length?e:y.revertOnSpill,!1===(e=Y(r=Z(n=h||s)))&&t&&(h?r&&r.removeChild(h):f.insertBefore(n,p)),e||t?w.emit("cancel",n,f,f):w.emit("drop",n,r,f,v),L())}function L(){var e=h||s;N(),l&&(q.rm(y.mirrorContainer,"gu-unselectable"),K(z,"remove","mousemove",D),Z(l).removeChild(l),l=null),e&&q.rm(e,"gu-transit"),n&&clearTimeout(n),w.dragging=!1,g&&w.emit("out",e,g,f),w.emit("dragend",e),f=s=h=p=v=n=g=null}function Y(e,t){t=void 0!==t?t:l?v:te(h||s);return e===f&&t===p}function B(t,n,r){for(var o=t;o&&!function(){if(!1===(u(o)&&!function(e){var t=e;b(e)&&(t=F(e));var n=!1;return(e=t.getAttribute("data-max-items"))&&parseInt(e)&&(n=e<=t.querySelectorAll(":not(.gu-transit)").length),n}(o)))return!1;var e=M(o,t),e=k(o,e,n,r);if(Y(o,e))return!0;return y.accepts(s,o,f,e)}();)o=Z(o);return o}function D(e){if(l){e.preventDefault();var t=ne("clientX",e)||0,n=ne("clientY",e)||0,r=t-d,o=n-m;l.style.left=r+"px",l.style.top=o+"px";var i=h||s,e=$(l,t,n),r=B(e,t,n),u=null!==r&&r!==g;!u&&null!==r||(g&&a("out"),g=r,u&&a("over"));o=Z(i);if(r!==f||!h||y.copySortSource){var c,e=M(r,e);if(null!==e)c=k(r,e,t,n);else{if(!0!==y.revertOnSpill||h)return void(h&&o&&o.removeChild(i));c=p,r=f}(null===c&&u||c!==i&&c!==te(i))&&(v=c,b(r)?((n=F(r))&&n.appendChild(i),w.emit("shadow",i,n,f)):(r.insertBefore(i,c),w.emit("shadow",i,r,f)))}else o&&o.removeChild(i)}function a(e){w.emit(e,i,g,f)}}function F(e){e=e.getAttribute("data-dropzone");return document.getElementById(e)}function M(e,t){for(var n=t;n!==e&&Z(n)!==e;)n=Z(n);return n===z?null:n}function k(o,t,i,u){var c="horizontal"===y.direction;return(t!==o?function(){var e=t.getBoundingClientRect();if(c)return n(i>e.left+Q(e)/2);return n(u>e.top+W(e)/2)}:function(){var e,t,n,r=o.children.length;for(e=0;e<r;e++){if(t=o.children[e],n=t.getBoundingClientRect(),c&&n.left+n.width/2>i)return t;if(!c&&n.top+n.height/2>u)return t}return null})();function n(e){return e?te(t):t}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";var r=e("ticky");t.exports=function(e,t,n){e&&r(function(){e.apply(n||null,t||[])})}},{ticky:10}],5:[function(e,t,n){"use strict";var c=e("atoa"),a=e("./debounce");t.exports=function(o,e){var i=e||{},u={};return void 0===o&&(o={}),o.on=function(e,t){return u[e]?u[e].push(t):u[e]=[t],o},o.once=function(e,t){return t._once=!0,o.on(e,t),o},o.off=function(e,t){var n=arguments.length;if(1===n)delete u[e];else if(0===n)u={};else{e=u[e];if(!e)return o;e.splice(e.indexOf(t),1)}return o},o.emit=function(){var e=c(arguments);return o.emitterSnapshot(e.shift()).apply(this,e)},o.emitterSnapshot=function(r){var e=(u[r]||[]).slice(0);return function(){var t=c(arguments),n=this||o;if("error"===r&&!1!==i.throws&&!e.length)throw 1===t.length?t[0]:t;return e.forEach(function(e){i.async?a(e,t,n):e.apply(n,t),e._once&&o.off(r,e)}),o}},o}},{"./debounce":4,atoa:3}],6:[function(n,r,e){(function(o){"use strict";var i=n("custom-event"),u=n("./eventmap"),c=o.document,e=function(e,t,n,r){return e.addEventListener(t,n,r)},t=function(e,t,n,r){return e.removeEventListener(t,n,r)},a=[];function l(e,t,n){t=function(e,t,n){var r,o;for(r=0;r<a.length;r++)if((o=a[r]).element===e&&o.type===t&&o.fn===n)return r}(e,t,n);if(t){n=a[t].wrapper;return a.splice(t,1),n}}o.addEventListener||(e=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var r=l(e,t,n)||function(n,r){return function(e){var t=e||o.event;t.target=t.target||t.srcElement,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.which=t.which||t.keyCode,r.call(n,t)}}(e,n);return a.push({wrapper:r,element:e,type:t,fn:n}),r}(e,t,n))},t=function(e,t,n){n=l(e,t,n);if(n)return e.detachEvent("on"+t,n)}),r.exports={add:e,remove:t,fabricate:function(e,t,n){var r=-1===u.indexOf(t)?new i(t,{detail:n}):function(){var e;c.createEvent?(e=c.createEvent("Event")).initEvent(t,!0,!0):c.createEventObject&&(e=c.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,o,t){(function(e){"use strict";var t=[],n="",r=/^on/;for(n in e)r.test(n)&&t.push(n.slice(2));o.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,t){(function(e){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?t:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){var r,o,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var a,l=[],f=!1,s=-1;function d(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length&&m())}function m(){if(!f){var e=c(d);f=!0;for(var t=l.length;t;){for(a=l,l=[];++s<t;)a&&a[s].run();s=-1,t=l.length}a=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||f||c(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],10:[function(e,n,t){(function(t){var e="function"==typeof t?function(e){t(e)}:function(e){setTimeout(e,0)};n.exports=e}).call(this,e("timers").setImmediate)},{timers:11}],11:[function(a,e,l){(function(e,t){var r=a("process/browser.js").nextTick,n=Function.prototype.apply,o=Array.prototype.slice,i={},u=0;function c(e,t){this._id=e,this._clearFn=t}l.setTimeout=function(){return new c(n.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new c(n.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},l.setImmediate="function"==typeof e?e:function(e){var t=u++,n=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,r(function(){i[t]&&(n?e.apply(null,n):e.call(null),l.clearImmediate(t))}),t},l.clearImmediate="function"==typeof t?t:function(e){delete i[e]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)});